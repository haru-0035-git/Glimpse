# Glimpse

個人 Wiki プロジェクト

---

## ユーザーの役割（ロール）

- **GUEST（ゲスト）**: ログインしていない、サイトを訪れたすべての人
- **ADMIN（管理者）**: あなた自身。すべての権限を持つ
- **(将来的に) USER（投稿者）**: サインインした一般ユーザー。自分の記事のみ投稿・編集できる（※最初のバージョンでは不要）

---

## 機能リスト（ブログ版）

### 閲覧者向け機能（誰でもアクセス可能）

- [ ] 記事の一覧表示（トップページに新着記事がリスト表示される）
- [ ] 記事の詳細表示（タイトル、本文、投稿日、著者など）
- [ ] カテゴリ機能（カテゴリ別に記事を絞り込んで一覧表示）
- [ ] タグ機能（タグで関連記事を探せる）
- [ ] 検索機能（キーワードで記事を検索）

### 管理者向け機能（ログイン後）

- [ ] 認証機能（ログイン・ログアウト）
- [ ] ダッシュボード（記事の管理画面トップ）
- [ ] 記事の作成 (CRUD)
  - リッチな Markdown エディタで記事を執筆
  - 公開・下書きステータス管理
  - カテゴリやタグの設定
- [ ] 記事の更新・削除 (CRUD)
- [ ] (Nice-to-have) 画像アップロード機能（記事に画像を簡単に挿入）

---

## 技術的なポイント

### セキュリティの強化

- **認証と認可 (JWT & RBAC)**:
  - ユーザーは `/api/authenticate` エンドポイントにユーザー名とパスワードを送信して認証を行います。
  - 認証成功後、JWT (JSON Web Token) が発行されます。このトークンにはユーザーのロール情報（例: `ROLE_USER`, `ROLE_ADMIN`）が含まれます。
  - 以降のリクエストでは、この JWT を `Authorization: Bearer <token>` ヘッダーに含めて送信することで、API へのアクセスが許可されます。
  - ロールベースアクセス制御 (RBAC) により、管理者 (ADMIN) だけが記事の投稿・編集・削除を行えるよう、Spring Security で厳密に設定されています。
  - ユーザーの役割（ロール）は、GUEST, ADMIN, (将来的に) USER を想定しています。
  - **JWT シークレットキーの管理**: 現在、`application.properties` には JWT シークレットキーが設定されていません。本番環境では、環境変数などを用いて安全に管理されるべきです。
- **パスワードの保護**: パスワードは必ずハッシュ化（BCrypt を使用）して保存します。
- **XSS 対策**: コメント機能追加時など、入力値のサニタイズを必須とします。

### SEO（検索エンジン最適化）

- Google などの検索結果に表示されやすくする工夫
- React の SPA は SEO が弱い場合があるため、まずは react-helmet などで <title> や <meta> を設定

---

## 開発計画（MVP の再定義）

まずはコア機能に絞った MVP（Minimum Viable Product）を完成させることを目指します。

### 新しい MVP 案

- **役割**: 投稿者はあなただけ（ADMIN ロールのみ）。一般ユーザーのサインイン機能は後回し

#### 管理者機能

- ログイン機能
- 記事の作成・更新・削除・一覧表示

#### 閲覧者機能

- 誰でも見られる記事の一覧表示
- 誰でも見られる記事の詳細表示

scp -r -i "haruverse-key.pem" build ec2-user@98.86.222.45:~
